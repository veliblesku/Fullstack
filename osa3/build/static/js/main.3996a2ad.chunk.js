(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,t,n){e.exports=n(40)},19:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),u=n(11),l=n.n(u),c=(n(19),n(2)),s=n(12),o=n(3),i=n.n(o),m="/api/persons",f=function(){return i.a.get(m).then(function(e){return e.data})},d=function(e){return i.a.post(m,e).then(function(e){return e.data})},b=function(e){return i.a.put("".concat(m,"/").concat(e.id),e).then(function(e){return e.data})},E=function(e){return i.a.delete("".concat(m,"/").concat(e)).then(function(e){return e.data})},g=function(e){var t=e.message;return null===t?null:r.a.createElement("div",{className:"error"},t)},v=function(e){e.successMessage;var t=e.setAlertMessage,n=(e.alertMessage,e.setNewNumber),u=e.setSuccessMessage,l=e.newNumber,c=e.newName,o=e.persons,i=e.setPersons,m=e.setNewName,E=e.handleNameChange,g=e.handleNumberChange;Object(a.useEffect)(function(){f().then(function(e){i(e)})},[]);return r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var a={name:c,number:l},r=o.find(function(e){return e.name===c});!1===o.map(function(e){return e.name}).includes(a.name)?d(a).then(function(e){i(o.concat(e)),m(""),n(""),u("muistiinpano lis\xe4tty onnistuneesti"),setTimeout(function(){u(null)},5e3)}).catch(function(e){console.log(e.response.data),t(String(e.response.data.error))}):window.confirm("".concat(a.name," on jo k\xe4yt\xf6ss\xe4. P\xe4ivitet\xe4\xe4nk\xf6 numero?"))&&b(Object(s.a)({},r,{number:l})).then(function(e){i(o.map(function(t){return t.name===c?e:t})),m(""),n(""),alert("nimi muutettu")})}},r.a.createElement("div",null,"nimi: ",r.a.createElement("input",{value:c,onChange:E})),r.a.createElement("div",null,"numero: ",r.a.createElement("input",{value:l,onChange:g})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"lis\xe4\xe4")))},p=function(e){var t=e.persons,n=e.setPersons,u=e.filter,l=t.filter(function(e){return e.name.toLowerCase().includes(u)}),s=Object(a.useState)(""),o=Object(c.a)(s,2),i=o[0],m=o[1],f=function(e){console.log(e.target.value),m(e.target.value)},d=function(e){E(i).then(function(e){n(e)})},b=l.map(function(e){return r.a.createElement("tr",{key:e.name,id:e.id},r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.number),r.a.createElement("td",null,e.id),r.a.createElement("td",null,r.a.createElement("form",{onSubmit:d},r.a.createElement("button",{type:"submit",value:e.id,onClick:f},"poista"))))});return r.a.createElement("div",null,r.a.createElement("table",null,r.a.createElement("tbody",null,b)))},h=function(){var e=Object(a.useState)([]),t=Object(c.a)(e,2),n=t[0],u=t[1],l=Object(a.useState)(""),s=Object(c.a)(l,2),o=s[0],i=s[1],m=Object(a.useState)(""),f=Object(c.a)(m,2),d=f[0],b=f[1],E=Object(a.useState)(""),h=Object(c.a)(E,2),N=h[0],j=h[1],w=Object(a.useState)(""),O=Object(c.a)(w,2),S=O[0],C=O[1],y=Object(a.useState)(""),M=Object(c.a)(y,2),k=M[0],P=M[1];return r.a.createElement("div",null,r.a.createElement("h2",null,"Puhelinluettelo"),r.a.createElement("div",{className:"success"},r.a.createElement(g,{message:S})),r.a.createElement("div",{className:"alert"},r.a.createElement(g,{message:k})),r.a.createElement("form",null,r.a.createElement("div",null,"rajaa n\xe4ytett\xe4vi\xe4: ",r.a.createElement("input",{value:N,onChange:function(e){console.log(e.target.value),j(e.target.value)}}))),r.a.createElement("h3",null,"Lis\xe4\xe4 henkil\xf6"),r.a.createElement(v,{persons:n,newNumber:d,newName:o,setPersons:u,setNewName:i,setNewNumber:b,alertMessage:k,setAlertMessage:P,handleNameChange:function(e){console.log(e.target.value),i(e.target.value)},handleNumberChange:function(e){console.log(e.target.value),b(e.target.value)},successMessage:S,setSuccessMessage:C}),r.a.createElement("h2",null,"Numerot"),r.a.createElement("div",null,r.a.createElement(p,{persons:n,filter:N,setPersons:u})))};l.a.render(r.a.createElement(h,null),document.getElementById("root"))}},[[13,2,1]]]);
//# sourceMappingURL=main.3996a2ad.chunk.js.map